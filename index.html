<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BirdHub | Unblocked Browser Games</title>
  <link rel="shortcut icon" type="image/png" href="https://anonymousbirb5100.github.io/birdhub-v2/images/birdhub-logo.png">
  <style>
    /* Particle background */
    #particle-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: linear-gradient(to top, royalblue, black);
      z-index: -1; /* Ensures the particles stay behind content */
      pointer-events: none; /* Prevents interference with user interaction */
      overflow: hidden;
    }

    .particle {
      position: absolute;
      width: var(--size); /* Dynamically set size for each particle */
      height: var(--size);
      background: white; /* Pure white color */
      border-radius: 50%; /* Makes the particles circular */
      opacity: 0; /* Starts as invisible */
      box-shadow: 0 0 5px rgba(255, 255, 255, 0.9); /* Subtle glow effect */
      animation: float var(--speed) linear forwards; /* Uses custom speed per particle */
    }

    /* Keyframe animation to control movement */
    @keyframes float {
      0% {
        transform: translate(0, 0); /* Start at the bottom */
        opacity: 0; /* Invisible at start */
      }
      20% {
        opacity: var(--max-opacity); /* Fade in to randomly assigned transparency */
      }
      100% {
        transform: translate(var(--x), calc(-80vh - var(--y-offset))); /* Moves up */
        opacity: 0; /* Fades out at the end */
      }
    }
      /*End of Particle*/

    .mainContent {
        margin: 0;
        padding: 0;
        height: 100%;
    }
      .titleSection {
        display: flex;
        flex-wrap: wrap;
        width: 80%;
        padding: 10px;
        padding-left: 10%;
        margin: auto;
        margin-top: 20px;
        background-color: rgba(0, 0, 0, 0.4);
        color: white;
        border-radius: 25px;
        border: 1px solid rgb(35, 35, 35);
        border-bottom: 5px solid royalblue;
        box-shadow: 0px 0px 30px black;
      }
      .titleSection img {
        margin: 10px;
        margin-left: 10vw;
      }
      .titleSection h1 {
        padding: 1%;
        font-size: 80px;
        line-height: 5px;
        text-shadow: 0px 0px 10px white;
        margin-top: 5vw;
        font-family: monospace;
        text-align: center;
      }
      .titleSection p {
        font-size: 30px;
        color: rgb(0, 132, 255);
        font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
      }

      .homeSection, .browseSection {
        display: flex;
        flex-direction: column;
        flex-wrap: wrap;
        align-items: center; /*Vertical Align*/
        justify-content: center; /*Horizontal Align*/
        width: 90%;
        margin: auto;
        margin-top: 30px;
        padding: 10px;
        background-color: rgba(0, 0, 0, 0.2);
        border-radius: 25px;
        box-shadow: 0px 0px 30px black;
      }
      .homeSection h1, .browseSection h1 {
        color: rgb(0, 132, 255);
        font-size: 80px;
        font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        text-align: center;
        text-shadow: 0px 0px 5px royalblue;
      }

      .gameButtonTrio {
        display: flex;
      }
      .gameButtonTrio button {
        display: flex;
        align-items: center;
        width: 25vw;
        gap: 8px;
        margin: 20px;
        background-color: rgba(0, 0, 0, 0.5);
        border: none;
        padding: 10px;
        border-radius: 25px;
        transition: 0.3s ease;
      }
      .gameButtonTrio button:hover {
        transform: translateY(-20px);
        box-shadow: 0px 20px 10px rgb(0, 191, 255);
      }
      .gameButtonTrio img {
        width: 120px;
        height: 120px;
        border-radius: 20px;
        border: 1px solid rgb(0, 132, 255);
      }
      .gameButtonText {
        flex-direction: column;
        color: white;
        font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        line-height: 20px;
      }
      .gameButtonText h3 {
        color: rgb(0, 132, 255);
        font-size: 30px;
        line-height: 5px;
        text-align: left;
        transition: 0.3s ease;
      }
      .gameButtonTrio button:hover h3 {
        text-shadow: 0px 0px 5px rgb(0, 132, 255);
      }
      .gameButtonText p {
        font-size: 20px;
        text-align: left;
      }
      .gameCounter {
        color: white;
        font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        font-size: 40px;
        margin: 20px;
        margin-bottom: 0;
        margin-right: 20vw;
        line-height: 0;
      }
      .mainPageSearch {
        width: 25vw;
        height: 3vh;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        font-size: 20px;
        font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        border: 3px solid rgba(50, 50, 50, 0.5);
        border-radius: 20px;
        padding: 10px;
      }
      .mainSearchNoresults {
        display: none;
        color: white;
        font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        font-size: 30px;
        gap: 10px;
      }

      /*Game Menu*/
      .gameMenuContent {
        display: none;
        margin: 0;
        padding: 0;
        flex-direction: column;
        align-items: flex-end;
      }
      .gameIframe {
        width: 60vw;
        height: 60vh;
        justify-content:center;
        align-items: center;
        border: 5px solid black;
        box-sizing:border-box;
        border-radius: 25px;
        margin: 20px;
        margin-right: 50px;
        position: relative; /* Keeps it inside container */
        z-index: 10; /* Ensures iframe appears above loading screen */
        overflow: hidden;
      }
     .gameIframeContainer {
        position: relative;
        width: 60vw;
        height: 60vh;
        display: flex; /* Ensure it contains both elements */
        justify-content: center; /* Centers the iframe */
        align-items: center; /* Centers vertically */
        overflow: hidden; /* Prevents overflow */
        margin-top: 13vh;
        box-sizing: border-box;
      }

      .loadingScreen {
        position: absolute;
        top: 0;
        left: 0;
        background: repeating-linear-gradient(
          45deg,
          #0d0d0d 0px,
          #0d0d0d 20px,
          #000000 20px,
          #000000 40px
        );
        display: flex;
        width: 55.5vw;
        height: 60vh;
        justify-content:center;
        align-items: center;
        border: 5px solid black;
        box-sizing:border-box;
        border-radius: 25px;
        margin-left: 1.5vw;
        flex-direction: column;
        z-index: 5;
        }
      .loadingWheel {
        width: 50px;
        height: 50px;
        border: 7px solid rgba(0, 132, 255, 0.8); /* Accent color */
        border-top-color: transparent;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      .loadingText {
        color: white;
        font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
      }
      @keyframes spin { /*Animate Spinning*/
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }


      .gameTitleSection {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        width: 55vw;
        color: white;
        background-color: rgba(0, 0, 0, 0.6);
        margin: 20px;
        margin-right: 50px;
        border-radius: 20px;
      }
      .gamePageTitle {
        font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        align-items: center;
        font-size: 35px;
      }
      .gamePageTitleImage {
        width: 5vw;
        height: 5vw;
        border-radius: 10px;
        margin: 10px;
      }
      .gameTitleSectionText {
        display: flex;
        align-items: center;
      }
    
    .gameHeader {
      display: flex;
      flex-direction: row;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height:10vh;
      margin: 0;
      background-color: rgba(11, 8, 38, 0.5);
      border-bottom: 5px solid rgb(0, 132, 255);
      z-index: 1234;
    }
    .gameHeader h1 {
      color: white;
      font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
      font-size: 30px;
      text-shadow: 0px 0px 5px white;
    }
    .gameHeaderLogo {
      width: 4vw;
      height: 4vw;
      margin: 0.5vw;
      transition: 0.3s ease;
    }
    .gameHeaderLogo:hover {
      transform: scale(1.2);
    }

    .gameHeaderInterface {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      flex: 1; /* Somehow aligns the search bar at the right...*/
    }
    .gameHeaderSearch {
      width: 20vw;
      height: 2.5vw;
      background-color: rgba(0, 0, 0, 0.5);
      margin: 1vw;
      border: 3px solid rgba(50, 50, 50, 0.5);
      color: white;
      border-radius: 20px;
      padding-left: 15px;
    }
    .gameHeaderSearchButton {
      width: 2vw;
      height: 2vw;
      background-color: rgb(0, 132, 255);
      padding: 0.5vw;
      border-radius: 15px;
      opacity: 0.5;
      transition: 0.3s ease;
      margin-right: 10px;
    }
    .gameHeaderSearchButton:hover {
      opacity: 1;
    }

    .gameTitleSectionButtons {
        display:flex;
        align-items: center;
    }
    .openNewTabButton {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        width: 12vw;
        height: 3vw;
        margin-right: 10px;
        background-color: rgb(72, 0, 255);
        font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        font-size: 20px;
        color: white;
        border-radius: 10px;
        border: none;
        padding-right: 10px;
        transition: 0.3s ease;
    }
    .fullscreenButton {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        width: 8.5vw;
        height: 3vw;
        margin-right: 20px;
        background-color: orange;
        font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        font-size: 20px;
        color: white;
        border-radius: 10px;
        border: none;
        padding-right: 10px;
        transition: 0.3s ease;
    }
    .gamePageDescription {
      display: flex;
      width: 52.5vw;
      color: white;
      background-color: rgba(0, 0, 0, 0.6);
      font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
      font-size: 20px;
      flex-wrap: wrap;
      margin: 20px;
      margin-right: 50px;
      padding: 20px;
      border-radius: 25px;
    }
    .openNewTabButton img, .fullscreenButton img {
      width: 2vw;
      height: 2vw;
      margin-right: 0.5vw;
    }
    .openNewTabButton:hover, .fullscreenButton:hover {
      transform: translateY(-10px);
    }
    /*End Game Menu*/


    /*Temporary Beta Popup*/
    /* CSS */
    .betaPopup {
      display: flex;
      opacity: 0;
      flex-direction: column;
      width: 50vw;
      height: 10vh;
      background-color: rgba(0, 0, 0, 0.7);
      position: fixed;
      bottom: 0;
      left: 25%;
      margin-bottom: 2vw;
      padding: 5px;
      border-radius: 25px;
      box-shadow: 0px 10px 5px black;
      transition: opacity 1.5s ease-in;
      animation: popupFadeIn 2s ease-in forwards 1s;
      z-index: 9990;
    }
    @keyframes popupFadeIn {
      to {
        opacity: 1;
      }
    }
    .popupFadeOut {
      animation: popupFadeOutAnimation 2s forwards;
      pointer-events: none; /* Disable interaction during animation */
    }

    @keyframes popupFadeOutAnimation {
      from {
        opacity: 1;
      }
      to {
        opacity: 0;
      }
    }

    .betaPopupText {
      font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
      font-size: 28px;
      color: white;
      margin: auto;
      z-index: 9991;
    }
    .betaPopup button {
      width: 10vw;
      height: 5vh;
      background-color: rgba(15, 205, 41, 0.9);
      margin: auto;
      margin-top: 5px;
      border: 5px solid black;
      border-radius: 10px;
      font-size: 30px;
      font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
      box-shadow: 0px 10px 5px black;
      transition: 0.3s ease;
      z-index: 9992;
    }
    .betaPopup button:hover {
      transform: translateY(-5px);
      background-color: rgb(18, 224, 45);
    }
    .betaPopupHider {
      display: flex; 
      align-items: center;
      gap: 10px;
      color: white;
      font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
      font-size: 20px;
      transition: 0.3s ease;
    }
    .betaPopupHider:hover {
      transform: translateY(-3px);
    }
    .betaPopupHider p {
      margin-left: 5px;
    }

    /*End Popup*/

    /*Various Alerts*/
    .alertBackground {
      display: none;
      position: fixed;
      left: 0;
      top: 0;
      width: 101vw;
      height: 100vh;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 10000;
      transform: translateX(-1vw);
    }
    .alertBox {
      display: flex;
      flex-direction: column;
      width: 30vw;
      height: 20vh;
      background-color: rgba(0, 0, 0, 0.6);
      margin: auto;
      align-items: center;
      font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
      border-radius: 25px;
      box-shadow: 0px 5px 20px black;
    }
    .alertBox h1 {
      color: white;
      font-weight: normal;
      font-size: 40px;
      line-height: 0;
      margin-top: 5vh;
    }
    .alertBox p {
      color: white;
    }

  </style>
</head>
<body>
  <!-- Particle Background -->
  <div id="particle-bg"></div>

  <!--Popup-->
  <div id="beta-popup" class="betaPopup">
    <p class="betaPopupText">🐣 Please note that this website is still in <span style="color: royalblue">beta development</span>.</p>
    <div style="display: flex; justify-content: center; align-items: center; margin:auto; flex-direction: row;">
      <button id="beta-popup-understand-button">Got It!</button>
      <div class="betaPopupHider">
        <input type="checkbox" id="beta-popup-checkbox"/> 
        <p>Don't show this again</p>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <p style="position: fixed; top: 95vh; left: 1vw; color: white; font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif; font-size: 20px;">Beta Version 1.9.1</p>
  <div id="main-content" class="mainContent">
    <div class="titleSection">
      <img src="https://anonymousbirb5100.github.io/birdhub-v2/images/birdhub-logo.png"
      width="15%" height="12%">
      <div style="flex-direction: column; white-space: nowrap;">
        <h1>The <span style="text-shadow: 0px 0px 5px rgb(0, 132, 255); color: rgb(0, 132, 255); font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif">
          Bird</span>hub</h1>
        <p>Unblocked Browser Games</p>
      </div>
    </div>


    <!--<div class="homeSection">
      <h1>Home</h1>
    </div>-->


    <div class="browseSection">
      <h1>Browse</h1>
      
      <div style="display: flex; margin-bottom: 5vh;">
        <p class="gameCounter"><span style="color:rgb(0, 132, 255);text-shadow: 0px 0px 10px royalblue;">3</span> Total Games</p>
        <input id="main-page-search" class="mainPageSearch" placeholder="Search for games..."/>
      </div>
      <p id="main-search-noresults" class="mainSearchNoresults"></p>

      <div class="gameButtonTrio">
        <button class="gameButton" 
        onclick="startGamePage('https://anonymousbirb5100.github.io/drive-mad', 'https://anonymousbirb5100.github.io/birdhub-v2/images/game-logos/drive-mad-logo.png', 'Drive Mad', 'Drive Mad is a racing game where you must drive through levels with ever-changing obstacles, terrarin, and surprises on increasingly ridiculous cars. Good luck trying to figure out trying to complete each level, and have fun doing so!')">
            <img src="https://anonymousbirb5100.github.io/birdhub-v2/images/game-logos/drive-mad-logo.png"/>
            <div class="gameButtonText">
              <h3 class="gameButtonTitle">Drive Mad</h3>
              <p>Drive silly cars at high speeds through dangerous terrain!</p>
            </div>
        </button>
        <button class="gameButton"
        onclick="startGamePage('https://anonymousbirb5100.github.io/retro-bowl', 'https://anonymousbirb5100.github.io/birdhub-v2/images/game-logos/retro-bowl-logo.png', 'Retro Bowl', 'Retro Bowl is a strategy-simulation retro game where you manage your own NFL team. Manage and train your team, devise plays, and keep your teams morale up. Can you win the Retro Bowl?')">
            <img src="https://anonymousbirb5100.github.io/birdhub-v2/images/game-logos/retro-bowl-logo.png"/>
            <div class="gameButtonText">
              <h3 class="gameButtonTitle">Retro Bowl</h3>
              <p>Lead your dream football team to victory!</p>
            </div>
        </button>
        <button class="gameButton"
        onclick="startGamePage('https://anonymousbirb5100.github.io/slope', 'https://anonymousbirb5100.github.io/birdhub-v2/images/game-logos/slope-logo.png', 'Slope', 'Slope is an endless runner game where you control a ball rolling through a neon-themed landscape. Try not to fall over or crash into the red killbricks while accelerating at increasingly higher speeds!')">
            <img src="https://anonymousbirb5100.github.io/birdhub-v2/images/game-logos/slope-logo.png"/>
            <div class="gameButtonText">
                <h3 class="gameButtonTitle">Slope</h3>
                <p>Pilot your ball through an endless neon landscape.</p>
            </div>
        </button>
      </div>


    </div>

  </div>

  <!--Game Menu-->
  <div id="game-menu-content" class="gameMenuContent">
    <div class="gameHeader">
      <img class="gameHeaderLogo" onclick="leaveGamePage()"
      src="https://anonymousbirb5100.github.io/birdhub-v2/images/birdhub-logo.png"/> <!--Logo-->
      <h1>The <span style="color: rgb(0, 132, 255); text-shadow: 0px 0px 5px rgb(0, 132, 255);">Bird</span>hub</h1>
      <div class="gameHeaderInterface">
        <input id="game-header-search" class="gameHeaderSearch" type="text" placeholder="Search for games...">
        <img id="game-header-search-button" class="gameHeaderSearchButton"
        src="https://anonymousbirb5100.github.io/birdhub-v2/images/icons/search-icon.png">
      </div>
    </div> <!--Shortcut button (home, statistics, version history, open blank, profile, random game)-->

    <div id="game-iframe-container" class="gameIframeContainer">
      <div id="loading-screen" class="loadingScreen">
        <div class="loadingWheel"></div>
        <h3 style="font-size: 30px; color:white; font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;">
          Loading...</h3>
        <p id="loading-text" class="loadingText">Loading Placeholder Text</p>
      </div>
    <iframe id="game-iframe" class="gameIframe" src=""></iframe>
    </div>

    <div class="gameTitleSection">
        <div class="gameTitleSectionText">
            <img id="game-page-title-image" class="gamePageTitleImage" src="">
            <h1 id="game-page-title" class="gamePageTitle">Game Title</h1>
        </div>
        <div class="gameTitleSectionButtons">
            <button id="open-new-tab-button" class="openNewTabButton"
            onclick="openCurrentGameTab()">
              <img src="https://anonymousbirb5100.github.io/birdhub-v2/images/icons/open-new-tab-icon.png"/>
              Open in New Tab</button>
            <button class="fullscreenButton"
            onclick="enterFullscreen()">
              <img src="https://anonymousbirb5100.github.io/birdhub-v2/images/icons/fullscreen-icon.png"/>
              Fullscreen</button>
        </div>
    </div>
    <div class="gamePageDescription">
      <p id="game-page-description">Game Description</p><!--</br>-->
      <!--<p>Tags:</p>-->
    </div>
  </div>

  <!--Alerts-->
  <div class="alertBackground" id="alert">
    <div class="alertBox">
      <h1>Alert</h1>
      <p><span id="alert-blue-text" style="color: rgb(0, 132, 255);">Spesial Blue Text</span><span id="alert-text">Hello</span></p>
      <button>why</button>
    </div>
  </div>

  <script>

    //betapopup
    const javaBetaPopup = document.getElementById("beta-popup");
    const javaPopupUnderstandButton = document.getElementById("beta-popup-understand-button");
    const javaBetaPopupCheckbox = document.getElementById("beta-popup-checkbox");

    window.onload = function() {
      //localStorage.setItem("betaPopupShowAgain", "false"); //-> reset showagain variable to false
      //alert(localStorage.getItem("betaPopupShowAgain")); //-> test for bugs
      const javaBetaPopupShowAgain = localStorage.getItem("betaPopupShowAgain");
      if (javaBetaPopupShowAgain === "true") {
        javaBetaPopup.style.display = "none";
      }
    }

    javaPopupUnderstandButton.addEventListener("click", () => {
      if (javaBetaPopupCheckbox.checked) {
        localStorage.setItem("betaPopupShowAgain", "true");
      }
      javaBetaPopup.classList.add("popupFadeOut");
    });

    javaPopupUnderstandButton.addEventListener("animationend", () => {
      javaBetaPopup.style.display = "none";
    });



    //particles
    const particleContainer = document.getElementById('particle-bg');

    function createParticle() {
      const particle = document.createElement('div');
      particle.classList.add('particle');

      const startX = Math.random() * window.innerWidth; //Random Pposition
      const driftX = (Math.random() - 0.5) * 150 + 'px'; //Horizontal drift
      const size = Math.random() * 5 + 2 + 'px';
      const maxOpacity = Math.random() * 0.5 + 0.5;
      const speed = (Math.random() * 3 + 2) + 's';

      const yOffset = Math.random() * window.innerHeight * 0.2; //Vanishing Height

      // Apply computed properties to particle element
      particle.style.left = startX + 'px';
      particle.style.top = (window.innerHeight - 10) + 'px';
      particle.style.setProperty('--x', driftX);
      particle.style.setProperty('--size', size);
      particle.style.setProperty('--max-opacity', maxOpacity);
      particle.style.setProperty('--speed', speed);
      particle.style.setProperty('--y-offset', yOffset + 'px');

      // Append particle to the background container
      particleContainer.appendChild(particle);

      // Remove particle after animation completes
      setTimeout(() => {
        particle.remove();
      }, parseFloat(speed) * 1000);
    }

    // Generate particles at regular intervals
    setInterval(() => {
      for (let i = 0; i < 5; i++) { // Adjust particle spawn rate
        createParticle();
      }
    }, 300); // Spawns every 300 milliseconds (adjust for frequency)
    //end particles


    //Search

    const mainPageSearchInput = document.getElementById('main-page-search');
    const gameButtons = document.querySelectorAll('.gameButton');

    mainPageSearchInput.addEventListener('input', () => {
      useMainPageSearch();
    });

    function useMainPageSearch() {
      const query = mainPageSearchInput.value.toLowerCase().replace(/\s+/g, '');
      const exactMatch = [];
      const looseMatch = [];

      gameButtons.forEach(button => {
        const gameTitle = button.querySelector('.gameButtonTitle').textContent.toLowerCase().replace(/\s+/g, '');
        let pos = 0;

        // Check exact match: letters in order
        const exact = [...query].every(char => {
          const i = gameTitle.indexOf(char, pos);
          if (i === -1) return false;
          pos = i + 1;
          return true;
        });

        // Check loose match: all letters present
        const loose = [...query].every(char => gameTitle.includes(char));

        if (query === '') {
          button.style.display = 'flex'; // reset view
        } else if (exact) {
          exactMatch.push(button);
        } else if (loose) {
          looseMatch.push(button);
        } else {
          button.style.display = 'none';
        }

        if (query === '') {
            gameButtons.forEach(btn => btn.style.display = 'flex');
        } else {
            gameButtons.forEach(btn => btn.style.display = 'none');
            [...exactMatch, ...looseMatch].forEach(btn => btn.style.display = 'flex');
        }

      const noResults = document.getElementById('main-search-noresults');
      const anyVisible = [...gameButtons].some(btn => btn.style.display !== 'none');

      if (anyVisible) {
        noResults.style.display = 'none';
      } else {
        const rawInput = mainPageSearchInput.value.trim();
        noResults.textContent = `No results found for "${rawInput}"`;
        noResults.style.display = 'block';
      }

    })};

    //Search in the game menu
    const javaGameSearch = document.getElementById("game-header-search");
    const javaGameSearchButton = document.getElementById("game-header-search-button");

    javaGameSearch.addEventListener("keydown", function(event) {
      if (event.key === "Enter") {
      mainPageSearchInput.value = javaGameSearch.value;
      leaveGamePage();
      useMainPageSearch();
      }
    });
    javaGameSearchButton.addEventListener("click", function() {
      if (javaGameSearch.value !== "") {
      mainPageSearchInput.value = javaGameSearch.value;
      leaveGamePage();
      useMainPageSearch();
      }
    });


    //game menu

    function getRandomTip() { //well, get random tip
    const tips = [ //tip list
        //"BirdHub has 6 games for you to try out!",
        //"TIP: Click the 3-lined button in the top-left to show the shortcut menu.",
        "Hey, how's your day?",
        "BirdHub gets regular updates with new games and the occasional new web feature.",
        "TIP: Use the search bar on top of the BROWSE section or in the game header to find your games quickly.",
        //"TIP: Check out the Settings (available in the shortcut menu and the game header) to customize your experience and more.",
        //"Found a bug or glitch? Click the Report button in the shortcut menu.",
        "If you're tired, take a break and get some sun."
    ];
    
    return tips[Math.floor(Math.random() * tips.length)];
    }


    //page handling
    // Exterminates bg when iframe loads by removing from DOM
    gamePageIframe.onload = function() {
      const loadingScreen = document.getElementById("loading-screen");
      loadingScreen.remove(); // Completely deletes the element
    };

    function startGamePage(gameURL, gameImage, gameTitle, gameDescription) {
      const mainPage = document.getElementById("main-content");
      const gamePage = document.getElementById("game-menu-content");
      const javaGameTitle = document.getElementById("game-page-title");
      const javaGameDescription = document.getElementById("game-page-description");
      const javaGameImage = document.getElementById("game-page-title-image");
      const gamePageIframe = document.getElementById("game-iframe");
      const loadingScreen = document.getElementById("loading-screen");
      const loadingScreenTip = document.getElementById("loading-text");
      window.URLForOpenNewTabButton = gameURL;
      window.fullscreenErrorGameTitle = gameTitle;

      mainPage.style.display = "none";
      gamePage.style.display = "flex";
      javaGameTitle.innerText = gameTitle;
      javaGameImage.src = gameImage;
      javaGameDescription.innerText = gameDescription;
      loadingScreenTip.innerText = getRandomTip(); //set random tip
      loadingScreen.style.display = "flex"; // Show loading screen
      gamePageIframe.src = gameURL;

      gamePageIframe.onload = function() {
        loadingScreen.style.display = "none"; // Hide loading-screen when iframe loads
      };
    };

    function leaveGamePage() {
      const mainPage = document.getElementById("main-content");
      const gamePage = document.getElementById("game-menu-content");
      const gamePageIframe = document.getElementById("game-iframe");
      gamePage.style.display = "none";
      mainPage.style.display = "block";
      gamePageIframe.src = "";
    };


    //fullscreen

    function askFullscreen() {
      const javaAlert = document.getElementById("alert");
      const javaAlertText = document.getElementById("alert-text");
      const javaAlertBlueText = document.getElementById("alert-blue-text");
      javaAlert.style.display = "flex";
      javaAlertText.innerText = "does not fullscreen properly due to the design of the game. Do you still wish to fullscreen?";
      javaAlertBlueText.innerText = fullscreenErrorGameTitle + " ";
    }
    function enterFullscreen() {
      const javaGameIframe = document.getElementById("game-iframe");
      const javaGameIframeContainer = document.getElementById("game-iframe-container");
      const loadingScreen = document.getElementById("loading-screen");
      loadingScreen.style.position = "fixed";
      loadingScreen.style.width = "100vw";
      loadingScreen.style.height ="100vh";
      loadingScreen.style.margin = 0;
      loadingScreen.style.left = 0;
      loadingScreen.style.top = 0;
      loadingScreen.style.borderRadius = 0;

      javaGameIframe.style.position = "fixed";
      javaGameIframe.style.width = "100vw";
      javaGameIframe.style.height ="100vh";
      javaGameIframe.style.margin = 0;
      javaGameIframe.style.left = 0;
      javaGameIframe.style.top = 0;
      javaGameIframe.style.borderRadius = 0;
      javaGameIframe.style.zIndex = 9999;

      if (javaGameIframeContainer.requestFullscreen) { //Check for browser support
        javaGameIframeContainer.requestFullscreen();
      } else if (javaGameIframeContainer.webkitRequestFullscreen) { //Safari
        javaGameIframeContainer.webkitRequestFullscreen();
      } else if (javaGameIframeContainer.msRequestFullscreen) { //IE11
        javaGameIframeContainer.msRequestFullscreen();
      }

      document.addEventListener('fullscreenchange', detectExitFullscreen, false);
      document.addEventListener('mozfullscreenchange', detectExitFullscreen, false); // For Firefox
      document.addEventListener('MSFullscreenChange', detectExitFullscreen, false); // For IE/Edge
      document.addEventListener('webkitfullscreenchange', detectExitFullscreen, false); // For Chrome, Safari, and Opera
    };

    function detectExitFullscreen() {
      if (!document.fullscreenElement && !document.mozFullScreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement) {
        // Perform actions when exiting fullscreen
        exitFullscreen();
      }
    }

    function exitFullscreen() {
      const javaGameIframe = document.getElementById("game-iframe");
      const javaGameIframeContainer = document.getElementById("game-iframe-container");
      const loadingScreen = document.getElementById("loading-screen");
      loadingScreen.style.position = "absolute";
      loadingScreen.style.width = "55.5vw";
      loadingScreen.style.height ="60vh";
      loadingScreen.style.marginLeft = "1.5vw";
      loadingScreen.style.left = 0;
      loadingScreen.style.top = 0;
      loadingScreen.style.borderRadius = "25px";

      javaGameIframe.style.position = "relative";
      javaGameIframe.style.width = "60vw";
      javaGameIframe.style.height ="60vh";
      javaGameIframe.style.margin = "20px";
      javaGameIframe.style.marginRight = "50px";
      javaGameIframe.style.borderRadius = "25px";
      javaGameIframe.style.zIndex = 6;
    }

    function openCurrentGameTab() {
      const openNewTabResult = window.open(URLForOpenNewTabButton, '_blank');
    };

  </script>
</body>
</html>
